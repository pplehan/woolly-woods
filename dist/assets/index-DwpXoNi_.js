import{g as x,_ as f,h as w,u as b,i as g,j as y,k as _,c as k,w as v,a as T,o as h,b as o,l as d,v as u,s as B,m as i}from"./index-BSNEEByr.js";const D={login:async(r,e)=>{const{data:n,status:a}=await x.post("https://dummyjson.com/auth/login",{username:r,password:e});return{data:n,code:a}}},V={class:"flex mb-4"},j={class:"flex mb-4"},M=["disabled"],U={__name:"index",setup(r){const e=w({username:"",password:""}),n=b(),a=()=>{n.push("/")},c=g(y()),p=async l=>{l.preventDefault();try{const{data:s,code:t}=await D.login(e.username,e.password);if(console.log(s),t===200){const{accessToken:m}=s;B(m),i.success("登入成功"),a()}}catch(s){console.error(s),i.error("使用者名稱或密碼錯誤")}};return _(()=>{c.value&&a()}),(l,s)=>(h(),k(T,null,{default:v(()=>[o("form",{onSubmit:p,class:"flex flex-col items-center my-[100px] w-[400px] mx-auto"},[o("div",V,[s[2]||(s[2]=o("label",{class:"w-[100px] block text-left mr-2",for:"username"},"使用者名稱",-1)),d(o("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>e.username=t),type:"text",id:"username",class:"px-2 py-1 w-56 rounded bg-gray-100 focus:outline-0"},null,512),[[u,e.username]])]),o("div",j,[s[3]||(s[3]=o("label",{class:"w-[100px] block text-left mr-2",for:"password"},"密碼",-1)),d(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>e.password=t),type:"password",id:"password",class:"px-2 py-1 w-56 rounded bg-gray-100 focus:outline-0"},null,512),[[u,e.password]])]),o("button",{class:"px-5 py-1 bg-red-800 rounded text-white disabled:bg-gray-200 cursor-pointer active:bg-pink-300",type:"submit",disabled:!e.username||!e.password},"登入 ",8,M)],32)]),_:1}))}},C=f(U,[["__scopeId","data-v-e08144f9"]]);export{C as default};
