import{q as k,_ as w,i as C,k as B,c as m,w as c,a as P,o as d,b as n,e as N,r as T,F as E,f as r,d as l,p as g,t as f,x as V,y as u,m as v}from"./index-BSNEEByr.js";const $={getProduct:async()=>await k.get("/product")},j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-20"},D=["src"],F={class:"mt-2 text-lg font-bold"},L={class:"flex items-center justify-between mt-4"},U={__name:"index",setup(x){const i=C([]),b=async()=>{const{data:t}=await $.getProduct();i.value=t,console.log(t)},y=t=>{let e=V()||[];if(!e.length){e.push(t),u(e),v.success("成功加入購物車");return}if(e.some(a=>a.id===t.id)){const a=e.map(o=>(o.id===t.id&&(o=t),o));u(a)}else{const a=[...e,t];u(a)}v.success("成功加入購物車")};return B(()=>b()),(t,e)=>{const _=r("a-card-meta"),a=r("a-input-number"),o=r("a-button"),h=r("a-card");return d(),m(P,null,{default:c(()=>[n("div",j,[(d(!0),N(E,null,T(i.value,s=>(d(),m(h,{key:s.id,class:"mb-10"},{cover:c(()=>[n("img",{alt:"example",src:s.image,class:"product-image w-full h-60 object-cover"},null,8,D)]),default:c(()=>[l(_,{title:s.title},{description:c(()=>[g(f(s.desc),1)]),_:2},1032,["title"]),n("p",F,"NT$"+f(s.price),1),n("div",L,[n("div",null,[l(a,{value:s.amount,"onUpdate:value":p=>s.amount=p},null,8,["value","onUpdate:value"])]),l(o,{class:"w-2/5 bg-red-800 text-white",type:"primary",onClick:p=>y(s),size:"middle",style:{"background-color":"#8B0000"}},{default:c(()=>e[0]||(e[0]=[g("加入購物車 ")])),_:2},1032,["onClick"])])]),_:2},1024))),128))])]),_:1})}}},z=w(U,[["__scopeId","data-v-b9e7bce8"]]);export{z as default};
